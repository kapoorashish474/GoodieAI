# Sequence Diagram: Hacker News Analytics Dashboard

## ğŸ”„ Complete Application Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    User     â”‚    â”‚  Frontend   â”‚    â”‚ Backend API â”‚    â”‚   Celery    â”‚    â”‚ HN API      â”‚
â”‚             â”‚    â”‚  (Next.js)  â”‚    â”‚  (FastAPI)  â”‚    â”‚   Worker    â”‚    â”‚             â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚                  â”‚                  â”‚                  â”‚                  â”‚
       â”‚ 1. Access        â”‚                  â”‚                  â”‚                  â”‚
       â”‚ Dashboard        â”‚                  â”‚                  â”‚                  â”‚
       â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                  â”‚                  â”‚                  â”‚
       â”‚                  â”‚ 2. GET /dashboardâ”‚                  â”‚                  â”‚
       â”‚                  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                  â”‚                  â”‚
       â”‚                  â”‚                  â”‚ 3. Query DB      â”‚                  â”‚
       â”‚                  â”‚                  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                  â”‚
       â”‚                  â”‚                  â”‚                  â”‚                  â”‚
       â”‚                  â”‚                  â”‚ 4. Return data   â”‚                  â”‚
       â”‚                  â”‚                  â”‚ â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                  â”‚
       â”‚                  â”‚ 5. Dashboard dataâ”‚                  â”‚                  â”‚
       â”‚                  â”‚ â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                  â”‚                  â”‚
       â”‚ 6. Render charts â”‚                  â”‚                  â”‚                  â”‚
       â”‚ â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                  â”‚                  â”‚                  â”‚
       â”‚                  â”‚                  â”‚                  â”‚                  â”‚
       â”‚ 7. Click "Fetch  â”‚                  â”‚                  â”‚                  â”‚
       â”‚ Stories"         â”‚                  â”‚                  â”‚                  â”‚
       â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                  â”‚                  â”‚                  â”‚
       â”‚                  â”‚ 8. POST /tasks/  â”‚                  â”‚                  â”‚
       â”‚                  â”‚ fetch-stories    â”‚                  â”‚                  â”‚
       â”‚                  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                  â”‚                  â”‚
       â”‚                  â”‚                  â”‚ 9. Trigger task  â”‚                  â”‚
       â”‚                  â”‚                  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                  â”‚
       â”‚                  â”‚                  â”‚                  â”‚ 10. GET /topstoriesâ”‚
       â”‚                  â”‚                  â”‚                  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚
       â”‚                  â”‚                  â”‚                  â”‚                  â”‚
       â”‚                  â”‚                  â”‚                  â”‚ 11. Story IDs    â”‚
       â”‚                  â”‚                  â”‚                  â”‚ â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
       â”‚                  â”‚                  â”‚                  â”‚                  â”‚
       â”‚                  â”‚                  â”‚                  â”‚ 12. GET /item/{id}â”‚
       â”‚                  â”‚                  â”‚                  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚
       â”‚                  â”‚                  â”‚                  â”‚                  â”‚
       â”‚                  â”‚                  â”‚                  â”‚ 13. Story detailsâ”‚
       â”‚                  â”‚                  â”‚                  â”‚ â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
       â”‚                  â”‚                  â”‚                  â”‚                  â”‚
       â”‚                  â”‚                  â”‚ 14. Store story  â”‚                  â”‚
       â”‚                  â”‚                  â”‚ â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                  â”‚
       â”‚                  â”‚                  â”‚                  â”‚                  â”‚
       â”‚                  â”‚                  â”‚ 15. Task status  â”‚                  â”‚
       â”‚                  â”‚                  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                  â”‚
       â”‚                  â”‚ 16. Task started â”‚                  â”‚                  â”‚
       â”‚                  â”‚ â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                  â”‚                  â”‚
       â”‚ 17. Show status  â”‚                  â”‚                  â”‚                  â”‚
       â”‚ â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                  â”‚                  â”‚                  â”‚
       â”‚                  â”‚                  â”‚                  â”‚                  â”‚
       â”‚ 18. Poll status  â”‚                  â”‚                  â”‚                  â”‚
       â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                  â”‚                  â”‚                  â”‚
       â”‚                  â”‚ 19. GET /tasks/  â”‚                  â”‚                  â”‚
       â”‚                  â”‚ {task_id}        â”‚                  â”‚                  â”‚
       â”‚                  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                  â”‚                  â”‚
       â”‚                  â”‚                  â”‚ 20. Check status â”‚                  â”‚
       â”‚                  â”‚                  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                  â”‚
       â”‚                  â”‚                  â”‚                  â”‚                  â”‚
       â”‚                  â”‚                  â”‚ 21. Task progressâ”‚                  â”‚
       â”‚                  â”‚                  â”‚ â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                  â”‚
       â”‚                  â”‚ 22. Status updateâ”‚                  â”‚                  â”‚
       â”‚                  â”‚ â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                  â”‚                  â”‚
       â”‚ 23. Update UI    â”‚                  â”‚                  â”‚                  â”‚
       â”‚ â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                  â”‚                  â”‚                  â”‚
       â”‚                  â”‚                  â”‚                  â”‚                  â”‚
       â”‚ 24. Refresh data â”‚                  â”‚                  â”‚                  â”‚
       â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                  â”‚                  â”‚                  â”‚
       â”‚                  â”‚ 25. GET /dashboardâ”‚                  â”‚                  â”‚
       â”‚                  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                  â”‚                  â”‚
       â”‚                  â”‚                  â”‚ 26. Query updatedâ”‚                  â”‚
       â”‚                  â”‚                  â”‚ data             â”‚                  â”‚
       â”‚                  â”‚                  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                  â”‚
       â”‚                  â”‚                  â”‚                  â”‚                  â”‚
       â”‚                  â”‚                  â”‚ 27. Latest data  â”‚                  â”‚
       â”‚                  â”‚                  â”‚ â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                  â”‚
       â”‚                  â”‚ 28. Updated      â”‚                  â”‚                  â”‚
       â”‚                  â”‚ dashboard        â”‚                  â”‚                  â”‚
       â”‚                  â”‚ â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                  â”‚                  â”‚
       â”‚ 29. New charts   â”‚                  â”‚                  â”‚                  â”‚
       â”‚ â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                  â”‚                  â”‚                  â”‚
```

## ğŸ“Š Background Processing Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Celery    â”‚    â”‚    Redis    â”‚    â”‚ Background  â”‚    â”‚ PostgreSQL  â”‚
â”‚   Worker    â”‚    â”‚   Events    â”‚    â”‚ Processor   â”‚    â”‚  Database   â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚                  â”‚                  â”‚                  â”‚
       â”‚ 1. Process story â”‚                  â”‚                  â”‚
       â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                  â”‚                  â”‚
       â”‚                  â”‚                  â”‚                  â”‚
       â”‚                  â”‚ 2. Publish event â”‚                  â”‚
       â”‚                  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                  â”‚
       â”‚                  â”‚                  â”‚                  â”‚
       â”‚                  â”‚ 3. Story event   â”‚                  â”‚
       â”‚                  â”‚ â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                  â”‚
       â”‚                  â”‚                  â”‚                  â”‚
       â”‚                  â”‚                  â”‚ 4. Extract       â”‚                  â”‚
       â”‚                  â”‚                  â”‚ keywords         â”‚                  â”‚
       â”‚                  â”‚                  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                  â”‚
       â”‚                  â”‚                  â”‚                  â”‚
       â”‚                  â”‚                  â”‚ 5. Update        â”‚                  â”‚
       â”‚                  â”‚                  â”‚ analytics        â”‚                  â”‚
       â”‚                  â”‚                  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                  â”‚
       â”‚                  â”‚                  â”‚                  â”‚
       â”‚                  â”‚                  â”‚ 6. Analytics     â”‚                  â”‚
       â”‚                  â”‚                  â”‚ updated          â”‚                  â”‚
       â”‚                  â”‚                  â”‚ â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                  â”‚
```

## ğŸ” Story Explorer Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    User     â”‚    â”‚  Frontend   â”‚    â”‚ Backend API â”‚
â”‚             â”‚    â”‚  (Next.js)  â”‚    â”‚  (FastAPI)  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚                  â”‚                  â”‚
       â”‚ 1. Navigate to   â”‚                  â”‚
       â”‚ Explorer         â”‚                  â”‚
       â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                  â”‚
       â”‚                  â”‚ 2. GET /stories  â”‚                  â”‚
       â”‚                  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                  â”‚
       â”‚                  â”‚                  â”‚ 3. Query stories â”‚                  â”‚
       â”‚                  â”‚                  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                  â”‚
       â”‚                  â”‚                  â”‚                  â”‚
       â”‚                  â”‚                  â”‚ 4. Story list    â”‚                  â”‚
       â”‚                  â”‚                  â”‚ â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                  â”‚
       â”‚                  â”‚ 5. Stories data  â”‚                  â”‚
       â”‚                  â”‚ â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                  â”‚
       â”‚ 6. Display table â”‚                  â”‚                  â”‚
       â”‚ â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                  â”‚                  â”‚
       â”‚                  â”‚                  â”‚                  â”‚
       â”‚ 7. Apply filters â”‚                  â”‚                  â”‚
       â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                  â”‚                  â”‚
       â”‚                  â”‚ 8. GET /stories  â”‚                  â”‚
       â”‚                  â”‚ with filters     â”‚                  â”‚
       â”‚                  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                  â”‚
       â”‚                  â”‚                  â”‚ 9. Filtered queryâ”‚                  â”‚
       â”‚                  â”‚                  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                  â”‚
       â”‚                  â”‚                  â”‚                  â”‚
       â”‚                  â”‚                  â”‚ 10. Filtered     â”‚                  â”‚
       â”‚                  â”‚                  â”‚ results          â”‚                  â”‚
       â”‚                  â”‚                  â”‚ â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                  â”‚
       â”‚                  â”‚ 11. Filtered     â”‚                  â”‚
       â”‚                  â”‚ stories          â”‚                  â”‚
       â”‚                  â”‚ â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                  â”‚
       â”‚ 12. Updated tableâ”‚                  â”‚                  â”‚
       â”‚ â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                  â”‚                  â”‚
```

## ğŸ“ˆ Analytics API Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Frontend   â”‚    â”‚ Backend API â”‚    â”‚ PostgreSQL  â”‚    â”‚   Charts    â”‚
â”‚  (Next.js)  â”‚    â”‚  (FastAPI)  â”‚    â”‚  Database   â”‚    â”‚ (Recharts)  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚                  â”‚                  â”‚                  â”‚
       â”‚ 1. GET /analyticsâ”‚                  â”‚                  â”‚
       â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                  â”‚                  â”‚
       â”‚                  â”‚ 2. Query keywordsâ”‚                  â”‚
       â”‚                  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                  â”‚
       â”‚                  â”‚                  â”‚                  â”‚
       â”‚                  â”‚ 3. Keyword data  â”‚                  â”‚
       â”‚                  â”‚ â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                  â”‚
       â”‚ 4. Analytics dataâ”‚                  â”‚                  â”‚
       â”‚ â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                  â”‚                  â”‚
       â”‚                  â”‚                  â”‚                  â”‚
       â”‚ 5. GET /domains  â”‚                  â”‚                  â”‚
       â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                  â”‚                  â”‚
       â”‚                  â”‚ 6. Query domains â”‚                  â”‚
       â”‚                  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                  â”‚
       â”‚                  â”‚                  â”‚                  â”‚
       â”‚                  â”‚ 7. Domain data   â”‚                  â”‚
       â”‚                  â”‚ â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                  â”‚
       â”‚ 8. Domain data   â”‚                  â”‚                  â”‚
       â”‚ â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                  â”‚                  â”‚
       â”‚                  â”‚                  â”‚                  â”‚
       â”‚ 9. Render charts â”‚                  â”‚                  â”‚
       â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                  â”‚                  â”‚
       â”‚                  â”‚                  â”‚                  â”‚
       â”‚ 10. Visual chartsâ”‚                  â”‚                  â”‚
       â”‚ â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                  â”‚                  â”‚
```

## ğŸ”„ Scheduled Background Processing

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Celery    â”‚    â”‚ HN API      â”‚    â”‚ PostgreSQL  â”‚    â”‚ Background  â”‚
â”‚   Beat      â”‚    â”‚             â”‚    â”‚  Database   â”‚    â”‚ Processor   â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚                  â”‚                  â”‚                  â”‚
       â”‚ 1. Every 30 min  â”‚                  â”‚                  â”‚
       â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                  â”‚                  â”‚
       â”‚                  â”‚                  â”‚                  â”‚
       â”‚                  â”‚ 2. GET /topstoriesâ”‚                  â”‚
       â”‚                  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                  â”‚
       â”‚                  â”‚                  â”‚                  â”‚
       â”‚                  â”‚ 3. Latest IDs    â”‚                  â”‚
       â”‚                  â”‚ â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                  â”‚
       â”‚                  â”‚                  â”‚                  â”‚
       â”‚ 4. Check for new â”‚                  â”‚                  â”‚
       â”‚ stories          â”‚                  â”‚                  â”‚
       â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                  â”‚                  â”‚
       â”‚                  â”‚                  â”‚                  â”‚
       â”‚ 5. New stories   â”‚                  â”‚                  â”‚
       â”‚ found            â”‚                  â”‚                  â”‚
       â”‚ â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                  â”‚                  â”‚
       â”‚                  â”‚                  â”‚                  â”‚
       â”‚ 6. Process new   â”‚                  â”‚                  â”‚
       â”‚ stories          â”‚                  â”‚                  â”‚
       â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                  â”‚                  â”‚
       â”‚                  â”‚                  â”‚                  â”‚
       â”‚ 7. Analytics     â”‚                  â”‚                  â”‚
       â”‚ updated          â”‚                  â”‚                  â”‚
       â”‚ â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                  â”‚                  â”‚
```

## ğŸ“‹ Component Descriptions

### **User Interface Layer**
- **Frontend (Next.js)**: React components with TypeScript
- **Pages**: Dashboard, Explorer, Navigation
- **Components**: Charts (Recharts), Tables, Forms
- **State Management**: React hooks for data fetching

### **API Gateway Layer**
- **FastAPI**: RESTful API with OpenAPI documentation
- **Routes**: Stories, Analytics, Tasks, Health
- **Middleware**: CORS, request validation
- **Response**: JSON with proper HTTP status codes

### **Background Processing Layer**
- **Celery**: Asynchronous task queue
- **Tasks**: Story fetching, analytics processing
- **Redis**: Message broker and result backend
- **Workers**: Scalable background processing

### **Data Processing Layer**
- **Analytics Service**: Keyword extraction, domain analysis
- **HN Service**: External API integration
- **Background Processor**: Event-driven processing
- **Data Transformation**: Raw data to analytics

### **Data Persistence Layer**
- **PostgreSQL**: Primary database
- **Models**: Stories, Analytics, Domains
- **CRUD Operations**: Database interactions
- **Migrations**: Schema management

## ğŸ¯ Key Benefits

- **Asynchronous Processing**: Non-blocking user experience
- **Event-Driven**: Real-time updates via Redis
- **Scalable**: Celery workers can be scaled horizontally
- **Modular**: Each component has a single responsibility
- **Reliable**: Redis provides message persistence
- **Real-time**: Frontend polls for updates
- **Extensible**: Easy to add new data sources 